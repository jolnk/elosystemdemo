{% extends 'core/base.html' %}

{% block title %}Registrar Partida - Sistema Elo{% endblock %}

{% block content %}
  <!-- Seção para o título da página -->
  <section>
    <h2 class="text-xl md:text-2xl font-semibold mb-4">Registrar Partida</h2>

    <!-- Formulário para registrar a partida -->
    <form method="POST" class="bg-neutral-950 p-6 rounded-2xl shadow-lg border border-neutral-800">
      {% csrf_token %}
      
      <!-- Escolher Time A -->
      <div class="mb-4">
        <label for="team_a" class="block text-lg text-neutral-300">Escolha o Time A</label>
        <select name="team_a" class="input-secondary" id="team_a">
          <option value="">Selecione um time</option>
          {% for team in teams %}
            <option value="{{ team.id }}" {% if form.team_a.value == team.id %}selected{% endif %}>{{ team.name }}</option>
          {% endfor %}
        </select>
        {% if form.team_a.errors %}
          <div class="text-red-500 mt-2">
            {% for error in form.team_a.errors %}
              <p>{{ error }}</p>
            {% endfor %}
          </div>
        {% endif %}
      </div>

      <!-- Escolher Time B -->
      <div class="mb-4">
        <label for="team_b" class="block text-lg text-neutral-300">Escolha o Time B</label>
        <select name="team_b" class="input-secondary" id="team_b">
          <option value="">Selecione um time</option>
          {% for team in teams %}
            <option value="{{ team.id }}" {% if form.team_b.value == team.id %}selected{% endif %}>{{ team.name }}</option>
          {% endfor %}
        </select>
        {% if form.team_b.errors %}
          <div class="text-red-500 mt-2">
            {% for error in form.team_b.errors %}
              <p>{{ error }}</p>
            {% endfor %}
          </div>
        {% endif %}
      </div>

      <!-- Placar Time A -->
      <div class="mb-4">
        <label for="score_a" class="block text-lg text-neutral-300">Placar Time A</label>
        <input type="number" name="score_a" class="input-secondary" id="score_a" value="{{ form.score_a.value }}">
        {% if form.score_a.errors %}
          <div class="text-red-500 mt-2">
            {% for error in form.score_a.errors %}
              <p>{{ error }}</p>
            {% endfor %}
          </div>
        {% endif %}
      </div>

      <!-- Placar Time B -->
      <div class="mb-4">
        <label for="score_b" class="block text-lg text-neutral-300">Placar Time B</label>
        <input type="number" name="score_b" class="input-secondary" id="score_b" value="{{ form.score_b.value }}">
        {% if form.score_b.errors %}
          <div class="text-red-500 mt-2">
            {% for error in form.score_b.errors %}
              <p>{{ error }}</p>
            {% endfor %}
          </div>
        {% endif %}
      </div>

      <!-- Botões de ação: Registrar e Voltar -->
      <div class="mt-4 flex gap-2">
        <!-- Botão de Registrar -->
        <button type="submit" class="btn-default">Registrar Partida</button>
        
        <!-- Botão de Voltar -->
        <a href="{% url 'manage' %}" class="btn-ghost">Voltar</a>
      </div>

    </form>
  </section>
{% endblock %}
